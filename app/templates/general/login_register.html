{% extends "base.html" %}
{% block script %}
{{super()}}
<script src="/static/js/login_register.js"></script>
{% endblock %}
{% block content %}


    <div class="container">
        <div class="row">
            <div class="check-box center">
                <ul id="login-register-tab" class="nav nav-tabs">
                <li class=""><a class="note-mine-box-item" href="#login-box">登录</a></li>
                <li class=""><a class="note-user-box-item" href="#register-box">注册</a></li>
                </ul>
            </div>

        </div>

        <div class="row login-register-content">
            <div id="register-box" class="login-register-item col-lg-8 col-lg-offset-2 hide">
                <!-- To configure the contact form email address, go to mail/contact_me.php and update the email address in the PHP file on line 19. -->
                <!-- The form should work on most web servers, but if the form is not working you may need to configure your web server differently. -->

                    <form class="form-horizontal" role="form" method="POST" action="{{url_for('api.register')}}">
                        {{ register_form.csrf_token }}
                      <div class="form-group col-xs-12 control-group">
                        <label for="username" class="col-sm-2 control-label">用户名</label>
                        <div class="controls col-sm-10">
                            {{ register_form.register_username(class="form-control",placeholder="请输入用户名",minlength="4",maxlength="20",required="required",
                            **{'data-validation-regex-regex':'[^\s@#$^&*]*','data-validation-regex-message':'不能含有非法字符','data-validation-required-message':'请输入用户名'}) }}
                            <p class="help-block"></p>
                        </div>
                      </div>
                      <div class="form-group col-xs-12 control-group">
                        <label for="nickname" class="col-sm-2 control-label">昵称</label>
                        <div class="controls col-sm-10">
                            {{ register_form.register_nickname(class="form-control",placeholder="请输入昵称",minlength="2",maxlength="20",required="required",
                            **{'data-validation-regex-regex':'[^\s@#$^&*]*','data-validation-regex-message':'不能含有非法字符','data-validation-required-message':'请输入昵称'}) }}
                            <p class="help-block"></p>

                        </div>
                      </div>
                      <div class="form-group col-xs-12 control-group">
                        <label for="email" class="col-sm-2 control-label">邮箱</label>
                        <div class="controls col-sm-10">
                            {{ register_form.register_email(type="email",class="form-control",placeholder="请输入邮箱",minlength="6",maxlength="20",required="required",
                            **{'data-validation-regex-regex':'[^\s#$^&*]*','data-validation-regex-message':'不能含有非法字符','data-validation-required-message':'请输入邮箱'}) }}
                            <p class="help-block"></p>

                        </div>
                      </div>
                      <div class="form-group col-xs-12 control-group">
                        <label for="email" class="col-sm-2 control-label">确认邮箱</label>
                        <div class="controls col-sm-10">
                            {{ register_form.r_register_email(class="form-control",placeholder="请重复输入邮箱",minlength="6",maxlength="20",required="required",
                            **{'data-validation-regex-regex':'[^\s#$^&*]*','data-validation-regex-message':'不能含有非法字符','data-validation-required-message':'请输入邮箱', 'data-validation-matches-match':'register_email'}) }}
                            <p class="help-block"></p>

                        </div>
                      </div>
                      <div class="form-group col-xs-12 control-group">
                        <label for="password" class="col-sm-2 control-label">密码</label>
                        <div class="controls col-sm-10">
                            {{ register_form.register_password(class="form-control",placeholder="请输入密码",minlength="3",maxlength="20",required="required",
                            **{'data-validation-regex-regex':'[^\s@#$^&*]*','data-validation-regex-message':'不能含有非法字符','data-validation-required-message':'请输入密码'}) }}
                            <p class="help-block"></p>

                        </div>
                      </div>
                      <div class="form-group col-xs-12 control-group">
                        <label for="password" class="col-sm-2 control-label">确认密码</label>
                        <div class="controls col-sm-10">
                            {{ register_form.r_register_password(class="form-control",placeholder="请重复输入密码",minlength="3",maxlength="20",required="required",
                            **{'data-validation-regex-regex':'[^\s@#$^&*]*','data-validation-regex-message':'不能含有非法字符','data-validation-required-message':'请确认输入密码'}) }}
                            <p class="help-block"></p>

                        </div>
                      </div>
                      <div class="form-group col-xs-12">
                        <div class="col-sm-offset-2 col-sm-10">
                          <button type="submit" class="btn btn-login btn-lg">注册</button>
                        </div>
                      </div>
                        <small><p class="text-center login-required">

                        </p></small>

                        </form>


            </div>

            <div id="login-box" class="login-register-item col-lg-8 col-lg-offset-2">
                <!-- To configure the contact form email address, go to mail/contact_me.php and update the email address in the PHP file on line 19. -->
                <!-- The form should work on most web servers, but if the form is not working you may need to configure your web server differently. -->

                    <form class="form-horizontal" role="form" method="POST" action="{{url_for('api.login')}}">
                        {{ login_form.csrf_token }}
                      <div class="form-group col-xs-12 control-group">
                        <label for="username" class="col-sm-2 control-label">用户名</label>
                        <div class="controls col-sm-10">
                            {{ login_form.login_username(class="form-control",placeholder="请输入用户名",minlength="3",maxlength="20",required="required",**{'data-validation-required-message':'请输入用户名'}) }}
                            <p class="help-block text-danger"></p>


                        </div>
                      </div>
                      <div class="form-group col-xs-12 ">
                        <label for="password" class="col-sm-2 control-label">密码</label>
                        <div class="controls col-sm-10">
                            {{ login_form.login_password(class="form-control",placeholder="请输入密码",minlength="3",maxlength="20",required="required",**{'data-validation-required-message':'请输入密码'}) }}
                            <p class="help-block text-danger"></p>


                        </div>


                        </div>

                      <div class="form-group col-xs-12">
                        <div class="col-sm-offset-2 col-sm-10">
                          <div class="checkbox">
                            <label>
                              <input type="checkbox">请记住我
                            </label>
                          </div>
                        </div>
                      </div>
                      <div class="form-group col-xs-12">
                        <div class="col-sm-offset-2 col-sm-10">
                          <button type="submit" class="btn btn-login btn-lg">登录</button>
                        </div>
                      </div>
                        <small><p class="text-center login-required">

                        </p></small>

                    </form>

            </div>

            </div>
        <div class="row">
{% for message in get_flashed_messages() %}
<div class="alert alert-warning">
    <button type="button" class="close" data-dismiss="alert">&times;</button>
    {{ message }}
</div>
{% endfor %}
</div>
        </div>
    </div>



{% endblock %}